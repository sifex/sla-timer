import{_ as s,o as a,c as n,d as l}from"./app.2f44f313.js";const A=JSON.parse('{"title":"Getting Started","description":"","frontmatter":{},"headers":[{"level":2,"title":"Requirements","slug":"requirements"},{"level":2,"title":"Installation","slug":"installation"},{"level":2,"title":"Example Usage","slug":"example-usage"},{"level":2,"title":"Stopping SLAs","slug":"stopping-slas"},{"level":2,"title":"Setting up Pause Periods","slug":"setting-up-pause-periods"}],"relativePath":"guide/getting_started.md","lastUpdated":1658587746000}'),e={name:"guide/getting_started.md"},o=l(`<h1 id="getting-started" tabindex="-1">Getting Started <a class="header-anchor" href="#getting-started" aria-hidden="true">#</a></h1><div class="danger custom-block"><p class="custom-block-title">DANGER</p><p>\u26A0\uFE0F This package is currently under construction! \u26A0\uFE0F</p></div><h2 id="requirements" tabindex="-1">Requirements <a class="header-anchor" href="#requirements" aria-hidden="true">#</a></h2><ul><li><code>php</code> - Version 8.0 or higher</li></ul><h2 id="installation" tabindex="-1">Installation <a class="header-anchor" href="#installation" aria-hidden="true">#</a></h2><p>You can install the <code>sla-timer</code> via composer:</p><div class="language-bash"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">composer require sifex/sla-timer</span></span>
<span class="line"></span></code></pre></div><h2 id="example-usage" tabindex="-1">Example Usage <a class="header-anchor" href="#example-usage" aria-hidden="true">#</a></h2><p>To create a new SLA Timer, we can start by defining our SLA Schedule:</p><div class="language-php"><span class="copy"></span><div class="highlight-lines"><br><br><br><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><br></div><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * Create a new SLA between 9am and 5:30pm weekdays</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">sla </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">SLA</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">fromSchedule</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">SLASchedule</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">create</span><span style="color:#89DDFF;">()-&gt;</span><span style="color:#82AAFF;">from</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">09:00:00</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)-&gt;</span><span style="color:#82AAFF;">to</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">17:30:00</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">onWeekdays</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#89DDFF;">);</span></span>
<span class="line"></span></code></pre></div><p>We can define out breaches by calling the <code>addBreaches</code> method on our SLA</p><div class="language-php"><span class="copy"></span><div class="highlight-lines"><br><br><br><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><br></div><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * Define two breaches, one at 45 minutes, and the next at 24 hours</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">sla</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">addBreaches</span><span style="color:#89DDFF;">([</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">SLABreach</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">First Response</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">45m</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">),</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">SLABreach</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Resolution</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">24h</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">),</span></span>
<span class="line"><span style="color:#89DDFF;">]);</span></span>
<span class="line"></span></code></pre></div><p>Now that our <strong>SLA Schedule</strong> and <strong>SLA Breaches</strong> are defined, all we have to do is give our <em>subject</em> &quot;creation time&quot; \u2013 or our SLA star time \u2013 to either the <code>status</code> method, or the <code>duration</code> method.</p><div class="language-php"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// Given the time now is 2022-07-21 11:00:35 </span></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">status </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">sla</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">status</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2022-07-21 09:00:00</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">);</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// SLAStatus</span></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">status</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#A6ACCD;">breaches </span><span style="color:#676E95;font-style:italic;">// [SLABreach]{1}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">duration </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">sla</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">duration</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2022-07-21 09:00:00</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">);</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// CarbonInterval</span></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">duration</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">forHumans</span><span style="color:#89DDFF;">();</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 2 hours 35 seconds</span></span>
<span class="line"></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">Please note:</p><p>By default, if the SLA is still running, <code>Carbon::now()</code> is used as the comparison time.</p></div><div class="tip custom-block"><p class="custom-block-title">Timestamp Parsing:</p><p>Any timestamp that&#39;s understood by <code>Carbon::parse()</code> can be used here!</p></div><div class="warning custom-block"><p class="custom-block-title">Timezone Heads up!</p><p>All times should be in UTC. If your <code>datetimes</code> are not in UTC, you can see our <strong><a href="#">Dealing with Timezones guide here</a></strong>.</p></div><h2 id="stopping-slas" tabindex="-1">Stopping SLAs <a class="header-anchor" href="#stopping-slas" aria-hidden="true">#</a></h2><p>To stop the SLA, simply pass in the date &amp; time the SLA should be stopped into the <code>status</code> or <code>duration</code> method.</p><div class="language-php"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// Given the time now is 2022-07-21 11:00:35 &amp; using the SLAs defined above</span></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">status </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">sla</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">status</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2022-07-21 08:00:00</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2022-07-21 10:00:00</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">);</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// SLAStatus</span></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">status</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#A6ACCD;">breaches </span><span style="color:#676E95;font-style:italic;">// []</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">duration </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">sla</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">duration</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2022-07-21 08:00:00</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2022-07-21 10:00:00</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">);</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// CarbonInterval</span></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">duration</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">forHumans</span><span style="color:#89DDFF;">();</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 2 hours 35 seconds</span></span>
<span class="line"></span></code></pre></div><h2 id="setting-up-pause-periods" tabindex="-1">Setting up Pause Periods <a class="header-anchor" href="#setting-up-pause-periods" aria-hidden="true">#</a></h2>`,21),p=[o];function t(c,r,i,D,F,y){return a(),n("div",null,p)}var h=s(e,[["render",t]]);export{A as __pageData,h as default};
