import{o as e,c as o,a as s,u as a,b as l,w as n}from"./app.00f78090.js";const p=l(`<h1 id="getting-started" tabindex="-1">Getting Started <a class="header-anchor" href="#getting-started" aria-hidden="true">#</a></h1><h2 id="installation" tabindex="-1">Installation <a class="header-anchor" href="#installation" aria-hidden="true">#</a></h2><div class="danger custom-block"><p class="custom-block-title">DANGER</p><p>\u26A0\uFE0F This package is currently under construction! \u26A0\uFE0F</p></div><p>You can install the <code>sla-timer</code> via composer:</p><div class="language-bash"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">composer require sifex/sla-timer</span></span>
<span class="line"></span></code></pre></div><h3 id="requirements" tabindex="-1">Requirements <a class="header-anchor" href="#requirements" aria-hidden="true">#</a></h3><ul><li><code>php</code> - Version 8.0 or higher</li></ul><h2 id="example-usage" tabindex="-1">Example Usage <a class="header-anchor" href="#example-usage" aria-hidden="true">#</a></h2><div class="tip custom-block"><p class="custom-block-title">\u{1F4A1} About SLAs</p><p>Before we dive in, ensure you understand what SLAs &amp; SLA Timers are by exploring <a href="/sla-timer/guide/about.html">About\xA0SLAs\xA0\u203A</a></p></div><p>Let&#39;s set up an SLA timer similar to the schedule shown below.<br>For this example, we&#39;re working in the week of 25th - 29th July 2022, but the library works over many weeks</p>`,10),t=["href"],c=["src"],r=["src"],i=l(`<p>To create a new SLA Timer, we can start by defining our SLA Schedule:</p><div class="language-php"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">require</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vendor/autoload.php</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">use</span><span style="color:#FFCB6B;"> </span><span style="color:#A6ACCD;">Sifex</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">SlaTimer</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">SLA</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">use</span><span style="color:#FFCB6B;"> </span><span style="color:#A6ACCD;">Sifex</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">SlaTimer</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">SLABreach</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">use</span><span style="color:#FFCB6B;"> </span><span style="color:#A6ACCD;">Sifex</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">SlaTimer</span><span style="color:#89DDFF;">\\</span><span style="color:#A6ACCD;">SLASchedule</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * Create a new SLA between 9am and 5:30pm weekdays</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">sla </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">SLA</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">fromSchedule</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">SLASchedule</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">create</span><span style="color:#89DDFF;">()-&gt;</span><span style="color:#82AAFF;">from</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">09:00:00</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)-&gt;</span><span style="color:#82AAFF;">to</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">17:30:00</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">onWeekdays</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#89DDFF;">);</span></span>
<span class="line"></span></code></pre></div><p>We can define out breaches by calling the <code>addBreaches</code> method on our SLA</p><div class="language-php"><span class="copy"></span><div class="highlight-lines"><br><br><br><br><div class="highlighted">\xA0</div><div class="highlighted">\xA0</div><br><br></div><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * Define two breaches, one at 45 minutes, and the next at 24 hours</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">sla</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">addBreaches</span><span style="color:#89DDFF;">([</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">SLABreach</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">First Response</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">24h</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">),</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">SLABreach</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Resolution</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">100h</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">),</span></span>
<span class="line"><span style="color:#89DDFF;">]);</span></span>
<span class="line"></span></code></pre></div><p>Now that our <strong>SLA Schedule</strong> and <strong>SLA Breaches</strong> are defined, all we have to do is give our <em>subject</em> &quot;creation time&quot; \u2013 or our SLA start time \u2013 to either the <code>status</code> method, or the <code>duration</code> method.</p><div class="language-php"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// Given the time now is 14:00:00 29-07-2022</span></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">status </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">sla</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">status</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">05:35:40 25-07-2022</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">);</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// SLAStatus</span></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">status</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#A6ACCD;">breaches</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// [SLABreach] [0: { First Response } ]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">duration </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">sla</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">duration</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">05:35:40 25-07-2022</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">);</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// CarbonInterval</span></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">duration</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">forHumans</span><span style="color:#89DDFF;">();</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 1 day 15 hours</span></span>
<span class="line"></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">Please note:</p><p>By default, if the SLA is still running, <code>Carbon::now()</code> is used as the comparison time.</p></div><div class="tip custom-block"><p class="custom-block-title">Timestamp Parsing:</p><p>Any timestamp that&#39;s understood by <code>Carbon::parse()</code> can be used here!</p></div><div class="warning custom-block"><p class="custom-block-title">Timezone Heads up!</p><p>All times should be in UTC. If your <code>datetimes</code> are not in UTC, you can see our <strong><a href="#">Dealing with Timezones guide here</a></strong>.</p></div><h2 id="stopping-slas" tabindex="-1">Stopping SLAs <a class="header-anchor" href="#stopping-slas" aria-hidden="true">#</a></h2><p>To stop the SLA, simply pass in the date &amp; time the SLA should be stopped into the <code>status</code> or <code>duration</code> method.</p><div class="language-php"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// Given the time now is 14:00:00 29-07-2022</span></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">status </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">sla</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">status</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">05:35:40 25-07-2022</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">10:00:00 26-07-2022</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">);</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// SLAStatus</span></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">status</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#A6ACCD;">breaches</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// []</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">duration </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">sla</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">duration</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">05:35:40 25-07-2022</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">10:00:00 26-07-2022</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">);</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// CarbonInterval</span></span>
<span class="line"><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">duration</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">forHumans</span><span style="color:#89DDFF;">();</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 9 hours 30 minutes </span></span>
<span class="line"></span></code></pre></div><h2 id="setting-up-pause-periods" tabindex="-1">Setting up Pause Periods <a class="header-anchor" href="#setting-up-pause-periods" aria-hidden="true">#</a></h2><p>Pause periods &amp; holidays operate very similarly. So set up either, head over to <a href="/sla-timer/guide/holidays.html">Holidays &amp; Skipped Days</a></p>`,14),h=JSON.parse('{"title":"Getting Started","description":"","frontmatter":{},"headers":[{"level":2,"title":"Installation","slug":"installation"},{"level":3,"title":"Requirements","slug":"requirements"},{"level":2,"title":"Example Usage","slug":"example-usage"},{"level":2,"title":"Stopping SLAs","slug":"stopping-slas"},{"level":2,"title":"Setting up Pause Periods","slug":"setting-up-pause-periods"}],"relativePath":"guide/getting_started.md","lastUpdated":1658657545000}'),D={name:"guide/getting_started.md"},C=Object.assign(D,{setup(y){return(F,d)=>(e(),o("div",null,[p,s("a",{href:a(n)("/images/sla_desc_light.svg"),class:"lg:-mx-8 xl:-mx-16 my-8 lg:my-16 block"},[s("img",{src:a(n)("/images/sla_desc_dark.svg"),alt:"SLA Diagram \u2013 Showing the periods of approx. 9am to 5pm covered each week day ",class:"w-full hidden dark:block"},null,8,c),s("img",{src:a(n)("/images/sla_desc_light.svg"),alt:"SLA Diagram \u2013 Showing the periods of approx. 9am to 5pm covered each week day ",class:"w-full dark:hidden"},null,8,r)],8,t),i]))}});export{h as __pageData,C as default};
