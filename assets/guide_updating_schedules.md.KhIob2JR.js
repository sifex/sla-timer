import{_ as i,c as t,o as a,ae as e}from"./chunks/framework.CdQOEF1y.js";const E=JSON.parse('{"title":"Updating Schedules","description":"","frontmatter":{},"headers":[],"relativePath":"guide/updating_schedules.md","filePath":"guide/updating_schedules.md","lastUpdated":1753527236000}'),l={name:"guide/updating_schedules.md"};function h(n,s,d,k,p,r){return a(),t("div",null,s[0]||(s[0]=[e(`<h1 id="updating-schedules" tabindex="-1">Updating Schedules <a class="header-anchor" href="#updating-schedules" aria-label="Permalink to &quot;Updating Schedules&quot;">​</a></h1><p>Because sometimes we might need to update our SLA Schedules over time – without invalidating existing SLA calculations, <code>sla-timer</code> allows us to update the <code>SLA</code> with a new <code>SLASchedule</code> that will commence after the <code>effectiveFrom</code> date provided.</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Create our initial schedule</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$sla </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> SLA</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fromSchedule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    SLASchedule</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">create</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;09:00:00&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">to</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;09:01:00&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        -&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">everyDay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Add our new superseded schedule, only starting after 27 July 2022</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$sla</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addSchedule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line highlighted"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    SLASchedule</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">create</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">effectiveFrom</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;27-07-2022&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line highlighted"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        -&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;09:00:00&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">to</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;09:00:30&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onWeekdays</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">and</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line highlighted"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        -&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;09:00:00&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">to</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;09:00:10&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onWeekends</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p>Then if we run our duration method across both our old schedule and our new schedule.</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Given the time now is 14:00:00 31-07-2022</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$sla</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">duration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;08:35:40 25-07-2022&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">totalSeconds; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 230</span></span></code></pre></div><table class="w-full"><thead><tr><th>Tables</th><th class="text-right">Old Schedule</th><th class="text-right">New Schedule</th></tr></thead><tbody><tr><td class="font-bold dark:bg-neutral-900 bg-neutral-100">25<sup>th</sup> July</td><td class="text-right font-semibold dark:bg-emerald-600/40 bg-emerald-300/30">60s</td><td class="text-right text-neutral-400 dark:text-neutral-500">30s</td></tr><tr><td class="font-bold dark:bg-neutral-900 bg-neutral-100">26<sup>th</sup> July</td><td class="text-right font-semibold dark:bg-emerald-600/40 bg-emerald-300/30">60s</td><td class="text-right text-neutral-400 dark:text-neutral-500">30s</td></tr><tr><td class="font-bold dark:bg-neutral-900 bg-neutral-100">27<sup>th</sup> July</td><td class="text-right text-neutral-400 dark:text-neutral-500">60s</td><td class="text-right font-semibold dark:bg-emerald-600/40 bg-emerald-300/30">30s</td></tr><tr><td class="font-bold dark:bg-neutral-900 bg-neutral-100">28<sup>th</sup> July</td><td class="text-right text-neutral-400 dark:text-neutral-500">60s</td><td class="text-right font-semibold dark:bg-emerald-600/40 bg-emerald-300/30">30s</td></tr><tr><td class="font-bold dark:bg-neutral-900 bg-neutral-100">29<sup>th</sup> July</td><td class="text-right text-neutral-400 dark:text-neutral-500">60s</td><td class="text-right font-semibold dark:bg-emerald-600/40 bg-emerald-300/30">30s</td></tr><tr><td class="font-bold dark:bg-neutral-900 bg-neutral-100">30<sup>th</sup> July</td><td class="text-right text-neutral-400 dark:text-neutral-500">60s</td><td class="text-right font-semibold dark:bg-emerald-600/40 bg-emerald-300/30">10s</td></tr><tr><td class="font-bold dark:bg-neutral-900 bg-neutral-100">31<sup>st</sup> July</td><td class="text-right text-neutral-400 dark:text-neutral-500">60s</td><td class="text-right font-semibold dark:bg-emerald-600/40 bg-emerald-300/30">10s</td></tr><tr><td rowspan="2" class="font-bold dark:bg-neutral-900 bg-neutral-200">Total</td><td class="text-right font-bold dark:bg-neutral-900 bg-neutral-200">120s</td><td class="text-right font-bold dark:bg-neutral-900 bg-neutral-200">110s</td></tr><tr><td colspan="2" class="text-right font-bold dark:bg-neutral-900 bg-neutral-200">230s</td></tr></tbody></table>`,6)]))}const o=i(l,[["render",h]]);export{E as __pageData,o as default};
